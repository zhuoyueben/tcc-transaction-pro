
# ä¸ªäººåšå®¢

[http://www.iocoder.cn](http://www.iocoder.cn/?github)

-------

![](http://www.iocoder.cn/images/common/wechat_mp.jpeg)

> ğŸ™‚ğŸ™‚ğŸ™‚å…³æ³¨**å¾®ä¿¡å…¬ä¼—å·ï¼šã€èŠ‹è‰¿çš„åç«¯å°å±‹ã€‘**æœ‰ç¦åˆ©ï¼š  
> 1. RocketMQ / MyCAT / Sharding-JDBC **æ‰€æœ‰**æºç åˆ†ææ–‡ç« åˆ—è¡¨  
> 2. RocketMQ / MyCAT / Sharding-JDBC **ä¸­æ–‡æ³¨é‡Šæºç  GitHub åœ°å€**  
> 3. æ‚¨å¯¹äºæºç çš„ç–‘é—®æ¯æ¡ç•™è¨€**éƒ½**å°†å¾—åˆ°**è®¤çœŸ**å›å¤ã€‚**ç”šè‡³ä¸çŸ¥é“å¦‚ä½•è¯»æºç ä¹Ÿå¯ä»¥è¯·æ•™å™¢**ã€‚  
> 4. **æ–°çš„**æºç è§£ææ–‡ç« **å®æ—¶**æ”¶åˆ°é€šçŸ¥ã€‚**æ¯å‘¨æ›´æ–°ä¸€ç¯‡å·¦å³**ã€‚

-------

* çŸ¥è¯†æ˜Ÿçƒï¼š![çŸ¥è¯†æ˜Ÿçƒ](http://www.iocoder.cn/images/Architecture/2017_12_29/01.png)
* TCCäº‹åŠ¡ä¸­é—´ä»¶ **TCC-Transaction**
    * [ã€ŠTCC-Transaction æºç åˆ†æ â€”â€” è°ƒè¯•ç¯å¢ƒæ­å»ºã€‹](http://www.iocoder.cn/TCC-Transaction/build-debugging-environment?github&1606)
    * [ã€ŠTCC-Transaction æºç åˆ†æ â€”â€” TCC å®ç°ã€‹](http://www.iocoder.cn/TCC-Transaction/tcc-core?github&1606)
    * [ã€ŠTCC-Transaction æºç åˆ†æ â€”â€” äº‹åŠ¡å­˜å‚¨å™¨ã€‹](http://www.iocoder.cn/TCC-Transaction/transaction-repository?github&1606)
    * [ã€ŠTCC-Transaction æºç åˆ†æ â€”â€” äº‹åŠ¡æ¢å¤ã€‹](http://www.iocoder.cn/TCC-Transaction/transaction-recovery?github&1606)
    * [ã€ŠTCC-Transaction æºç åˆ†æ â€”â€” è¿ç»´å¹³å°ã€‹](http://www.iocoder.cn/TCC-Transaction/console?github&1606)
    * [ã€ŠTCC-Transaction æºç åˆ†æ â€”â€” Dubbo æ”¯æŒã€‹](http://www.iocoder.cn/TCC-Transaction/dubbo-support?github&1606)
    * [ã€ŠTCC-Transaction æºç åˆ†æ â€”â€” é¡¹ç›®å®æˆ˜ã€‹](http://www.iocoder.cn/TCC-Transaction/http-sample?github&1606)

ä½¿ç”¨æŒ‡å—1.1.x:https://github.com/changmingxie/tcc-transaction/wiki/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%971.1.x

1.1.x æºç åˆ†æ”¯ï¼šhttps://github.com/changmingxie/tcc-transaction/tree/master

ä½¿ç”¨æŒ‡å—1.2.x:https://github.com/changmingxie/tcc-transaction/wiki/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%971.2.x

1.2.x æºç åˆ†æ”¯ï¼šhttps://github.com/changmingxie/tcc-transaction/tree/master-1.2.x

1.2.x ç‰ˆæœ¬ä¸å‘ä¸‹å…¼å®¹1.1.xï¼Œä¸»è¦åœ¨å£°æ˜tccæœåŠ¡æ–¹æ³•çš„æ³¨è§£æœ‰æ”¹å˜ã€‚1.2.xä¸åŒäº1.1.xä¸»è¦çš„åœ°æ–¹åœ¨äºå‘å¸ƒæœåŠ¡æ—¶ä¸å†å¼ºåˆ¶è¦æ±‚æœåŠ¡æ–¹æ³•å‚æ•°å¿…é¡»æœ‰TransactionContextå‚æ•°ï¼Œä»è€Œå‡å°‘å¯¹ä¸šåŠ¡ä»£ç çš„ä¾µå…¥ã€‚



Try: å°è¯•æ‰§è¡Œä¸šåŠ¡

    å®Œæˆæ‰€æœ‰ä¸šåŠ¡æ£€æŸ¥ï¼ˆä¸€è‡´æ€§ï¼‰

    é¢„ç•™å¿…é¡»ä¸šåŠ¡èµ„æºï¼ˆå‡†éš”ç¦»æ€§ï¼‰

Confirm: ç¡®è®¤æ‰§è¡Œä¸šåŠ¡

    çœŸæ­£æ‰§è¡Œä¸šåŠ¡

    ä¸ä½œä»»ä½•ä¸šåŠ¡æ£€æŸ¥

    åªä½¿ç”¨Tryé˜¶æ®µé¢„ç•™çš„ä¸šåŠ¡èµ„æº

    Confirmæ“ä½œæ»¡è¶³å¹‚ç­‰æ€§

Cancel: å–æ¶ˆæ‰§è¡Œä¸šåŠ¡

    é‡Šæ”¾Tryé˜¶æ®µé¢„ç•™çš„ä¸šåŠ¡èµ„æº

    Cancelæ“ä½œæ»¡è¶³å¹‚ç­‰æ€§


ç¤ºä¾‹è¯´æ˜:

tcc-transactionä¸å’Œåº•å±‚ä½¿ç”¨çš„rpcæ¡†æ¶è€¦åˆï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨doubbo,thrift,web service,httpç­‰éƒ½å¯ã€‚tcc-transaction-http-sampleç¤ºä¾‹æ¼”ç¤ºäº†ä¸ä¾èµ–åº•å±‚rpcæ¡†æ¶æƒ…å†µä¸‹å¦‚ä½•ä½¿ç”¨tcc-transactionã€‚

åœ¨åº•å±‚rpcæ¡†æ¶ä¸ºdubboæƒ…å†µä¸‹ï¼Œå¯åˆ©ç”¨tcc-trnansaction-dubbo jaræä¾›çš„ä¾¿åˆ©ï¼Œæ–¹ä¾¿åº”ç”¨ä½¿ç”¨tcc-transactionã€‚tcc-transaction-dubbo-sampleç¤ºä¾‹æ¼”ç¤ºäº†åœ¨ä½¿ç”¨dubboä½œä¸ºrpcè°ƒç”¨æƒ…å†µä¸‹å¦‚ä½•ä½¿ç”¨tcc-transactionã€‚

ç¤ºä¾‹æ¼”ç¤ºåœ¨ä¸‹å®Œè®¢å•å,ä½¿ç”¨çº¢åŒ…å¸æˆ·å’Œèµ„é‡‘å¸æˆ·æ¥ä»˜æ¬¾ï¼Œçº¢åŒ…å¸æˆ·æœåŠ¡å’Œèµ„é‡‘å¸æˆ·æœåŠ¡åœ¨ä¸åŒçš„ç³»ç»Ÿä¸­ã€‚ç¤ºä¾‹ä¸­ï¼Œæœ‰ä¸¤ä¸ªSOAæä¾›æ–¹ï¼Œä¸€ä¸ªæ˜¯CapitalTradeOrderServiceï¼Œä»£è¡¨ç€èµ„é‡‘å¸æˆ·æœåŠ¡,å¦ä¸€ä¸ªæ˜¯RedPacketTradeOrderService,ä»£è¡¨ç€çº¢åŒ…å¸æˆ·æœåŠ¡ã€‚

ä¸‹å®Œè®¢å•åï¼Œè®¢å•çŠ¶æ€ä¸ºDRAFTï¼Œåœ¨TCCäº‹åŠ¡ä¸­TRYé˜¶æ®µï¼Œè®¢å•æ”¯ä»˜æœåŠ¡å°†è®¢å•çŠ¶æ€å˜æˆPAYINGï¼ŒåŒæ—¶è¿œç¨‹è°ƒç”¨çº¢åŒ…å¸æˆ·æœåŠ¡å’Œèµ„é‡‘å¸æˆ·æœåŠ¡,å°†ä»˜æ¬¾æ–¹çš„ä½™é¢å‡æ‰ï¼ˆé¢„ç•™ä¸šåŠ¡èµ„æº);å¦‚æœåœ¨TRYé˜¶æ®µï¼Œä»»ä½•ä¸€ä¸ªæœåŠ¡å¤±è´¥ï¼Œtcc-transactionå°†è‡ªåŠ¨è°ƒç”¨è¿™äº›æœåŠ¡å¯¹åº”çš„cancelæ–¹æ³•ï¼Œè®¢å•æ”¯ä»˜æœåŠ¡å°†è®¢å•çŠ¶æ€å˜æˆPAY_FAILED,åŒæ—¶è¿œç¨‹è°ƒç”¨çº¢åŒ…å¸æˆ·æœåŠ¡å’Œèµ„é‡‘å¸æˆ·æœåŠ¡,å°†ä»˜æ¬¾æ–¹ä½™é¢å‡æ‰çš„éƒ¨åˆ†å¢åŠ å›å»ï¼›å¦‚æœTRYé˜¶æ®µæ­£å¸¸å®Œæˆï¼Œåˆ™è¿›å…¥CONFIRMé˜¶æ®µï¼Œåœ¨CONFIRMé˜¶æ®µï¼ˆtcc-transactionè‡ªåŠ¨è°ƒç”¨ï¼‰,è®¢å•æ”¯ä»˜æœåŠ¡å°†è®¢å•çŠ¶æ€å˜æˆCONFIRMED,åŒæ—¶è¿œç¨‹è°ƒç”¨çº¢åŒ…å¸æˆ·æœåŠ¡å’Œèµ„é‡‘å¸æˆ·æœåŠ¡å¯¹åº”çš„CONFIRMæ–¹æ³•ï¼Œå°†æ”¶æ¬¾æ–¹çš„ä½™é¢å¢åŠ ã€‚ç‰¹åˆ«è¯´æ˜ä¸‹ï¼Œç”±äºæ˜¯ç¤ºä¾‹ï¼Œåœ¨CONFIRMå’ŒCANCELæ–¹æ³•ä¸­æ²¡æœ‰å®ç°å¹‚ç­‰æ€§ï¼Œå¦‚æœåœ¨çœŸå®é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œéœ€è¦ä¿è¯CONFIRMå’ŒCANCELæ–¹æ³•çš„å¹‚ç­‰æ€§ã€‚

åœ¨è¿è¡Œsampleå‰ï¼Œéœ€æ­å»ºå¥½dbç¯å¢ƒï¼Œè¿è¡Œdbscriptsç›®å½•ä¸‹çš„create_db.sqlå»ºç«‹æ•°æ®åº“å®ä¾‹åŠè¡¨ï¼›è¿˜éœ€ä¿®æ”¹å„ç§é¡¹ç›®ä¸­jdbc.propertiesæ–‡ä»¶ä¸­çš„jdbcè¿æ¥ä¿¡æ¯ã€‚

å¦‚æœ‰é—®é¢˜å¯ä»¥åœ¨æœ¬é¡¹ç›®çš„github issuesä¸­æé—®ã€‚æˆ–æ˜¯åŠ å¾®ä¿¡:changmingxieï¼Œä¸ºä¾¿äºè¯†åˆ«ï¼Œéº»çƒ¦åœ¨å¤‡æ³¨ä¸­å†™ä¸‹ åœ¨tcc-transactionä¸­å£°æ˜ä¸€ä¸ªtccçš„æ–¹æ³•æ—¶éœ€è¦åŠ çš„æ³¨è§£ç±»çš„åå­—ï¼Œä½œè€…å°½é‡å›ç­”ç–‘é—®ã€‚ 


### Donate
You can show your appreciation for TCC-TRANSACTION and support future development by donating! We strongly feel that TCC-TRANSACTION should remain free of charge as our gift to the online community. We ask for a donation of  10.00 RMB, but of course we appreciate any amount, thanks.
![ææ¬¾å¾®ä¿¡äºŒç»´ç ](https://github.com/changmingxie/aggregate-framework/blob/master/doc/weixin-donate.png)
